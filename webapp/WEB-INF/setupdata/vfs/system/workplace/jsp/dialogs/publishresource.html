<%@ page import="org.opencms.workplace.*" buffer="none" %><%	

	// initialize the workplace class
	CmsPublishProject wp = new CmsPublishProject(pageContext, request, response);
	
//////////////////// start of switch statement 
	
switch (wp.getAction()) {

//////////////////// ACTION: other actions handled outside of this JSP
case CmsPublishProject.ACTION_CONFIRMED:
case CmsPublishProject.ACTION_REPORT_BEGIN:
case CmsPublishProject.ACTION_REPORT_UPDATE:

	wp.actionReport();

break;
//////////////////// ACTION: close report and return to workplace
case CmsPublishProject.ACTION_REPORT_END:
%>
<html>
<head></head>
<body onload="location.href('<%= wp.getJsp().link("/system/workplace/jsp/explorer_files.html") %>');">
</body>
</html>
<%

break;
//////////////////// ACTION: show unlock confirmation dialog
case CmsPublishProject.ACTION_UNLOCK_CONFIRMATION:

	wp.setParamAction(CmsPublishProject.DIALOG_UNLOCK_CONFIRMED);

%><%= wp.htmlStart() %>

<%= wp.bodyStart("dialog", null) %>

<%= wp.dialogStart() %>
<%= wp.dialogContentStart(wp.getParamTitle()) %>

<form name="main" action="<%= wp.getDialogUri() %>" method="post" class="nomargin">
<%= wp.paramsAsHidden() %>

<%= wp.key("messagebox.message1.lockedinfolder") %>

<%= wp.dialogContentEnd() %>
<%= wp.dialogButtonRowOkCancel() %>

</form>

<%= wp.dialogEnd() %>
<%= wp.bodyEnd() %>
<%= wp.htmlEnd() %>
<%

break;
//////////////////// ACTION: show start dialog
case CmsPublishProject.ACTION_DEFAULT:
default:

	wp.setParamAction(CmsPublishProject.DIALOG_CONFIRMED);

%><%= wp.htmlStart() %>

<%= wp.bodyStart("dialog", null) %>

<%= wp.dialogStart() %>
<%= wp.dialogContentStart(wp.getParamTitle()) %>

<form name="main" action="<%= wp.getDialogUri() %>" method="post" class="nomargin">
<%= wp.paramsAsHidden() %>

<table border="0" cellpadding="2" cellspacing="0">
<tr>
	<td><%= wp.key("messagebox.message1.publishresource") %></td>
</tr>
<tr>
	<td><%= wp.getParamResource() %></td>
</tr>
<tr>
	<td><%= wp.key("messagebox.message2.publishresource") %> <%= wp.getParamModifieddate() %> 
		<%= wp.key("messagebox.message3.publishresource") %> <%= wp.getParamModifieduser() %>
		<%= wp.key("messagebox.message4.publishresource") %>
	</td>
</tr>
<%= wp.buildCheckSiblings() %>
</table>

<%= wp.dialogContentEnd() %>
<%= wp.dialogButtonRowOkCancel() %>

</form>

<%= wp.dialogEnd() %>
<%= wp.bodyEnd() %>
<%= wp.htmlEnd() %>
<%
} 
//////////////////// end of switch statement 
%>