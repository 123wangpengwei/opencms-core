<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="nn">
   <meta name="GENERATOR" content="Mozilla/4.7 [de] (WinNT; I) [Netscape]">
   <title>doc_ger</title>
</head>
<body>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
The module: com.opencms.modules.homepage.news
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Version 2
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Date:&nbsp; 31.01.2001
<br>&nbsp;
<p>The module allows the easy display and administration of news. Every
news-article is assigned to a channel.
<br>Furthermore the module demonstrates the way news can be displayed as
PDF and WML.
<br>Examples for this can be found in the directory "moduledemos".
<p>Backoffice-Part:
<br>The channels and the news-arcticles can be created and edited under
two backoffice administration items.
<br>At least one channel has to exist to be able to create a new news-article.
A headline has to be specified as well.
<br>Important: A Channel wich is still in use by at least one news-article
can't be deleted!
<br>There are different filters for the news-articles which allow to display
only certain news.
<br>For every channel there are three filters, which:
<br>a) display the last n entries for a channel
<br>b) every entry for a certain day for a channel
<br>c) every entry for a certain month for a channel
<p>There is also a filter which orders all entries according to a certain
parameter.
<br>Possible parameters are:
<br>&nbsp;&nbsp;&nbsp; id, headline, description, author, test, link, date
und channel.
<br>Is here a paramter specified, which is not correct, all entries are
sorted according to their date!
<p>Template-Part:
<br>Templates, which should display news with the help of the module are
controlled by the class
<br>com.opencms.modules.homepage.news.NewsTemplate.
<br>This class has to be determined in the element-definition. There should
always be one element to display the news for one channel.
<br>The channel can be specified with the parameter "channelname" or with
the parameter "channelid", both in the element-definition.
<p>Example:
<br>&nbsp; &lt;ELEMENTDEF name="body">
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;CLASS>com.opencms.modules.homepage.news.NewsTemplate&lt;/CLASS>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;TEMPLATE>/content/bodys/moduledemos/com.opencms.modules.homepage.news/NewsElement.html&lt;/TEMPLATE>
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;PARAMETER name="channelname">ZDF&lt;/PARAMETER>
<br>&nbsp;&nbsp;&nbsp; &lt;/ELEMENTDEF>
<br>or:
<br>&nbsp;&nbsp;&nbsp; &lt;PARAMETER name="channelid">0&lt;/PARAMETER>
<p>Attention: if the channel is specified by its name, this has to be changed
if the name of the channel is changed in the backoffice.
<br>This can not happen if the id is used to specify the channel!
<br>If both name and id of the channel are given, only the id will be used.
<br>The method "getNewsList" reads the articles from the database. The
number of entries that should be displayed are given as a parameter of
the method. Actual entries are displayed first. The parameter "-1" returns
all entries.
<br>The method accesses the datablock "newsentry", which has to be declared
in the template. The datablocks
<br>&nbsp;&nbsp;&nbsp; id, headline, description, author, date, link, linktext,
text, channel, a_info1, a_info2, a_info3
<br>are then set by the method.
<p>The method "getSingleNews" can be used to display single news-articles.
<br>Therefore the parameter "id=" has to be attached to the URL. This way
links between a list-view and single elementes can be
<br>achieved.
<br>The method reads the datablock "newsentry" as well.
<br>The datablock "errorText" can be used to define an error message if
the element does not exist.
<p>Comment:
<br>The link can be inserted in two ways into the template. As all other
entries as well, it can be inserted with &lt;process>link&lt;/process>.
<br>This can cause problems, when the link (the normal case) is extended
to a real link in the temlplate, but is not given in all news-articles.
<br>Especially when creating PDF-Versions it can happen that no page at
all is displayed.
<br>Because of this the method "getValidURI" has to be used if the link-text
should be used as a real link.
<br>Then PDF-Versions are shown correctly as well, even if the field "link"
was empty.
<p>Version 2 of the NewsModule uses a new Database-Access-Pool, which comes
with OpenCms Version 4.1.55 or higher.
<br>The database-connect-string can be changed under the administration
of the module. The default is "jdbc:opencmspool:mysql".
<p>PDF:
<br>To create PDF-Versions the File "fop_bin.jar" is needed by the servlet-launcher.
Furthermore the class CmsPdfLauncher is needed
<br>inside the "com.opencms.launcher"-package.
<br>&nbsp;
</body>
</html>
