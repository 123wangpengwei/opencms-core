/*
 * File   : $Source: /alkacon/cvs/opencms/Attic/todo.txt,v $
 * Date   : $Date: 2002/08/26 13:37:39 $
 * Version: $Revision: 1.3 $
 *
 * This file is part of OpenCms -
 * the Open Source Content Mananagement System
 *
 * Copyright (C) 2002  The OpenCms Group
 */

TODO Items for OpenCms Release 5.0.

This document serves as a base for discussion on what features should 
be included in the next release of OpenCms. 

Everyone is invited to make suggestions to this list, please use the 
opencms-dev mailing list at www.opencms.org to do so.

Legend: 
+ Decision: Feature will be implemented in the next release
d Decision: Feature will be implemented, but implementation is delayed beyond next release
- Decision: Feature will NOT be implemented
? No desicion made about this feature
# Feature has already been implemented for the next release

As a small rule, there can be only a decision to implement a feature if there is 
also a volunteer to do the work! 


[ ? ] Consolidate top-level directories
================================================================================
Suggested by: 
  Alexander Kandzior (a.kandzior@alkacon.com) 

Description: 
  Even in an empty OpenCms installation, there are a lot of default directories
  in the root folder ("/"). This confuses users, esp. when one starts to
  add his own directories, since it might not be clear which directory 
  belongs to the application, and which is just a default directory with
  some special system function. The suggestion is to move all the default
  directories below the "/system" folder.

  The current folder structure of a fres OpenCms installation looks like this:

  /content
  /download
  /externallinks
  /htmlgalleries
  /moduledemos
  /pics/system
  /system
   
  All above directories are only needed for special system purposes. 
  This new folder structure would achive the same result, but without 
  clustering the root folder:

  /system (remains)
  /system/bodies (former /content/bodys)
  /system/galleries/download (former /download)
  /system/galleries/externallinks (former /externallinks)
  /system/galleries/htmlgalleries (former /htmlgalleries)
  /system/moduledemos (former /moduledemos)
  /system/pics (former /pics/system)
  /system/modules/default (former /content directory without /content/bodys)
  [other directories already below /system remain]

Issues: 
   This changes require re-coding a lot of path information that might
   be clustered in the Java sources and the workplace files. 
   Esp. moving /content to /system/content might be difficult because 
   of the XMLTemplate mechanism. 

   Also important is to have a mechanism to update a running system
   using the old structure to the new structure. This might be achived
   with a special import / export filter method.

Volunteers: 
  Alexander Kandzior (a.kandzior@alkacon.com) 

Updates:
  (08/26/02) Alexander Kandzior:
  I updated several Workplace files that used hard - coded path information
  to use constants from com.opencms.workplace.I_CmsWpConstants instead. It's now
  possible to move the "/content" directory in a fresh installation below 
  "/system" by just changing the constants in I_CmsWpConstants, recompiling, 
  installing the new JAR and moving the directories to the new locations in 
  the wrokplace (see above).
  I assume moving most of the galleries would no be to difficult either. 
  Changing the "/pics" path requires a lot of search and replace in existing
  templates, but should be doable in an acceptable time frame. The true issue is 
  finding a way to migrate an old system to the new structure.


[ ? ] Logfile rotation
================================================================================
Suggested by: 
  Andreas Schouten (andreas.schouten@framfab.de) 

Description: 
  The OpenCms logfile just grows and grows. Logfile rotation would help
  keep the filesize reasonable.
 
Issues:
    None known. Someone has to do the work.

Volunteers: 
  (No volunteer yet)


[ ? ] Native support for Velocity templates
================================================================================
Suggested by: 
  Alexander Kandzior (a.kandzior@alkacon.com) 

Description: 
  Thanks to contributions from the community, there is now a Velocity 
  template extension for OpenCms available. Based on this work,
  Velocity support should be extended to be natively included in the 
  standard release. In short, there should be a "Velocity Template" option 
  on the "Add new" dialog in the OpenCms workplace.
 
Issues:
  Adding a new resource type in OpenCms is tricky. Also, there must be a way devised
  that binds the Velocity template to a corrosponding Velocity class. 

Volunteers:  
  (No volunteer yet)


[ ? ] Check for old, unused template files in "/system/workplace" folders
================================================================================
Suggested by: 
  Alexander Kandzior (a.kandzior@alkacon.com) 

Description: 
  There are many files in "/system/workplace" folders. Some of them seem to 
  be unused. This should be checked and unused files should be removed.

Issues:
  None known. Someone has to do the work.

Volunteers: 
  (No volunteer yet)


[ ? ] Support for MS-SQL Server in setup wizard
================================================================================
Suggested by: 
  Alexander Kandzior (a.kandzior@alkacon.com) 

Description: 
  There is now a native MS-SQL Server resource broker available. 
  This should be selectable during installation with the wizard.
  Currently the opencms.properties file must be edited to enable MS-SQL 
  server support, which is difficult to impossible for new users who want
  to try our OpenCms on their system.

Issues:
  None known. Someone has to do the work.

Volunteers: 
  (No volunteer yet)


[ ? ] Create a default "Offline" project during installation
================================================================================
From: 
  Alexander Kandzior (a.kandzior@alkacon.com) 

Description: 
  Currently, the user must first create a project after installation to be able 
  to make any changes. There should be a default "Offline" project that is
  created during the installation, so that a new user can start checking out 
  the system right away. This default "Offline" project should be just a normal
  project, so it can be deleted if not wanted. This change would help new users
  to get started with OpenCms more easily. 

Issues:
  None known.

Volunteers: 
  (No volunteer yet)


[ ? ] Rename "uk" locale to "en" 
================================================================================
From: 
  Alexander Kandzior (a.kandzior@alkacon.com) 

Description: 
  The locale for english language for some obscure reason is "uk", while 
  the international standard is "en". Rename local and language files to "en"

Issues:
  Make sure old modules that still use "uk" locale are still running.

Volunteers: 
  (No volunteer yet)


[ + ] Add i18n changes to release version
================================================================================
From:  
  Alexander Kandzior (a.kandzior@alkacon.com) 

Description: 
  There has been a great contribution from Gridnine systems to better support
  i18n in the OpenCms XML process. This changes should be part of the next 
  major release. 

  As a side effect, these changes might also cause OpenCms to work with the 
  Java 1.4 default XML parser. In this case a seperate Xerces jar would not  
  longer be needed, reducing a lot of installation issues. This should 
  be verified.

Issues:
  Make sure the changes have no side - effect on the rest of the system.

Volunteers: 
  Michael Emmerich (Michael.Emmerich@framfab.de)

Updates:
  (08/26/02) Michael Emmerich:
  Integration of Gridnine code so far has been successful. 
  Some issues regarding German umlauts have been resolved in latest code 
  version from Gridnine. Test have been succesful so for. 
  Some changes to new "content-encoding" property still needed.
  After final test have been made the code will be merged into the 5.0 branch.  

  Other comments for this release:
  Features:
  Workplace is converted to UTF-8 encoding.

  New variable in opencms.properties file: defaultContentEncoding - 
  sets the default encoding of the pages.

  New property "content-encoding" of the page is added. Content-encoding 
  property sets the encoding of the specific page. If not specified the 
  defaultContentEncoding from opencms.properties file will be used.

  New user method getEncoding() in order to insert in XML templates 
  (<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=]]><METHOD
  name="getEncoding"/><![CDATA[">)

  Property_value field in all *_properties tables is changed to TEXT from
  VARCHAR(255) in MySQL database. This change is required since now properties 
  are url-encoded to avoid Unicode problem (MySQL doesn't support Unicode yet). 
  Therefore the length of the property string is bigger and it is not enough to 
  have 255 characters. Attention: Developers shouldn't use ORDER BY clause in 
  SQL statements since it will be not Unicode sort order but url-encoded 
  sorting. There are no ORDER BY clauses for property_value in the current code.

  Known issues:
  Change property_value field in all *_properties tables for supported databases. 
  If database supports Unicode property_value should not be url-encoded. 
  For example it is possible to use nvarchar(4000) in SQL Server. It is better
  to use more then 255 symbols since there is always need for more characters 
  (description, keywords, etc) 
  
  Netscape Navigator 6.2 doesn't show the 
  "Code editor" page properly. We are working on this now.  


[ ? ] English help file translations
================================================================================
From: 
  Alexander Kandzior (a.kandzior@alkacon.com) 

Description: 
  The help files are available only in German language. 
  They must be made available in English for international users.
  Other languages (eg. Italian) would also be great.

Issues:
  Find someone who translates the content. 
  Also, the selection mechanism for the help language must be checked and 
  perhaps adjusted to support more then one language. Moreover, all files 
  currently have German names. To make translation easier and to be more
  consistent, the names of the help files should be changed to english. This
  in turn requires changing the reference to the helpfiles in all workplace 
  files. 

Volunteers: 
  Massimiliano Alessandri (m.alessandri@tiscali.it)

Updates:
  (08/26/02) Alexander Kandzior:
  Massimiliano Alessandri from Italy has volunteerd to do an Italian translation
  after an english translation is available.

