create table CMS_SYSTEMPROPERTIES       (SYSTEMPROPERTY_ID int not null
					 SYSTEMPROPERTY_NAME VARCHAR(40) not null, 
                                         SYSTEMPROPERTY_VALUE blob,
                                         primary key(SYSTEMPROPERTY_ID));

create table CMS_USERS                  (USER_ID int not null auto_increment,
                                         USER_NAME VARCHAR(32) not null,
                                         USER_PASSWORD VARCHAR(32) not null,
                                         USER_DESCRIPTION VARCHAR(255) not null,
                                         primary key(USER_ID), unique(USER_NAME));

create table CMS_USERS_ADDITIONALINFO   (USER_ID int not null,
                                         USER_FIRSTNAME VARCHAR(50),
                                         USER_LASTNAME VARCHAR(50),
                                         USER_EMAIL VARCHAR(50),
                                         USER_LASTLOGIN datetime,
                                         USER_LASTUSED datetime,
                                         USER_FLAGS int not null,
                                         USER_INFO blob,
                                         primary key(USER_ID));

create table CMS_GROUPS                 (GROUP_ID int not null auto_increment,
                                         PARENT_GROUP_ID int not null,
                                         GROUP_NAME VARCHAR(16) not null,
                                         GROUP_DESCRIPTION VARCHAR(255) not null,
                                         GROUP_FLAGS int not null,
                                         primary key(GROUP_ID),
                                         unique(GROUP_NAME));

create table CMS_GROUPUSERS             (GROUP_ID int not null,
                                         USER_ID int not null,
                                         GROUPUSER_FLAGS int not null,
                                         key(GROUP_ID),
                                         key(USER_ID));

create table CMS_PROJECTS               (PROJECT_ID int not null, 
                                         USER_ID int not null,
                                         GROUP_ID int not null, 
										 MANAGERGROUP_ID int not null,
                                         TASK_ID int not null,
                                         PROJECT_NAME VARCHAR(16) not null,
                                         PROJECT_DESCRIPTION VARCHAR(255) not null,
                                         PROJECT_FLAGS int not null,
										 PROJECT_CREATEDATE datetime not null,
										 PROJECT_PUBLISHDATE datetime,
										 PROJECT_PUBLISHED_BY int not null,
										 PROJECT_COUNT_LOCKED_RESOURCES int not null,
										 PROJECT_TYPE int not null,
                                         primary key(PROJECT_ID), unique(PROJECT_NAME, PROJECT_CREATEDATE));

create table CMS_METADEF                (METADEF_ID int not null auto_increment, 
                                         METADEF_NAME VARCHAR(64) not null,
                                         RESOURCE_TYPE int not null,
                                         METADEF_TYPE int not null,
                                         primary key(METADEF_ID), unique(METADEF_NAME, RESOURCE_TYPE));

create table CMS_METAINFO               (METAINFO_ID int not null auto_increment,
                                         METADEF_ID int not null,
                                         RESOURCE_NAME VARCHAR(248) not null,
                                         PROJECT_ID int not null,
                                         METAINFO_VALUE VARCHAR(255) not null,
                                         primary key(METAINFO_ID), unique(METADEF_ID, RESOURCE_NAME, PROJECT_ID));

create table CMS_RESOURCES              (RESOURCE_NAME VARCHAR(248) not null,
                                         RESOURCE_TYPE int not null,
                                         RESOURCE_FLAGS int not null,
                                         USER_ID int not null,
                                         GROUP_ID int not null,
                                         PROJECT_ID int not null,
                                         ACCESS_FLAGS int not null,
                                         STATE int not null,
                                         LOCKED_BY int not null,
                                         LAUNCHER_TYPE int not null,
                                         LAUNCHER_CLASSNAME VARCHAR(255) not null,
                                         DATE_CREATED datetime not null,
                                         DATE_LASTMODIFIED datetime not null,
                                         SIZE int not null,
                                         primary key(RESOURCE_NAME,PROJECT_ID));

create table CMS_FILES                  (RESOURCE_NAME VARCHAR(248) not null,
                                         PROJECT_ID int not null,
                                         FILE_CONTENT mediumblob not null,
                                         primary key(RESOURCE_NAME,PROJECT_ID));


# --------------------------------------------------------
#
# Table structure for table 'GlobeTask'
#

CREATE TABLE GlobeTask 
(
   id int(11) DEFAULT '0' NOT NULL auto_increment,
   name varchar(50),
   autofinish int(11),
   starttime datetime,
   timeout datetime,
   endtime datetime,
   wakeuptime datetime,
   escalationtyperef int(11),
   initiatoruserref int(11),   
   originaluserref int(11),
   agentuserref int(11),
   roleref int(11),
   root int(11),
   parent int(11),
   milestoneref int(11),
   percentage varchar(50),
   permission varchar(50),
   priorityref int(11),
   state int(11),
   tasktyperef int(11),
   htmllink varchar(254),
   PRIMARY KEY (id)
);


# --------------------------------------------------------
#
# Table structure for table 'GlobeTaskType'
#
CREATE TABLE GlobeTaskType (
   autofinish int(11),
   escalationtyperef int(11),
   htmllink varchar(254),
   id int(11) DEFAULT '0' NOT NULL auto_increment,
   name varchar(50),
   permission varchar(50),
   priorityref int(11),
   roleref int(11),
   PRIMARY KEY (id));

#
# Dumping data for table 'GlobeTaskType'
#

INSERT INTO GlobeTaskType VALUES( '1', '0', '../taskforms/adhoc.asp', '1', 'Ad-Hoc.old', '-rw-rw-rw', '1', '1');


# --------------------------------------------------------
#
# Table structure for table 'GlobeTaskLog'
#

CREATE TABLE GlobeTaskLog (
   comment text,
   externalusername varchar(254),
   id int(11) DEFAULT '0' NOT NULL auto_increment,
   starttime datetime,
   taskref int(11),
   userref int(11),
   type int(18) DEFAULT '0',
   PRIMARY KEY (id)
);


# --------------------------------------------------------
#
# Table structure for table 'GlobeTaskPar'
#

CREATE TABLE GlobeTaskPar (
   id int(11) DEFAULT '0' NOT NULL auto_increment,
   parname varchar(50),
   parvalue varchar(50),
   ref int(11),
   PRIMARY KEY (id)
);
