<?xml version="1.0" encoding="ISO-8859-1"?>
<WORKPLACE>
<TEMPLATE>
<![CDATA[
<HTML>

<script language=JavaScript>
<!--
top.help_url='Administration/linkgallerien/neuerlink.html';

var lasturl=']]><PROCESS>lasturl</PROCESS><![CDATA[';

    function setValues(){
        var theName = ']]><process>LINKNAME</process><![CDATA[';
        var theValue = ']]><process>LINKVALUE</process><![CDATA[';

        if((theValue == null) || (theValue == '')){
            theValue = 'http://';
        }
        document.getElementById("name").value = theName;
        document.getElementById("neulink").value = theValue;
        if((theName != null) && (theName != '')){
            document.getElementById("name").focus();
        }
    }

    function checkForm(){
        var okay=true;
        var lengthOkay=true;
        var inp=document.getElementById("name").value;

        for(var i=0;i<inp.length;i++){
            if(inp.charAt(i)=='%' || inp.charAt(i)=='#' || inp.charAt(i)=='&'){
                okay=false;
                badchar=inp.charAt(i);
            }
        }

        if(okay==false)alert("]]><LABEL value="error.message.badcharacter" /><![CDATA["+badchar);

        if(document.getElementById("name").value.length<1)lengthOkay=false;
        if(document.getElementById("neulink").value.length<1)lengthOkay=false;

        if(!lengthOkay)alert("]]><LABEL value="error.message.datamissing" /><![CDATA[");

        if(okay && lengthOkay){
                var re='administration_content_link_new.html?action=newlink&step=1&file='+
                    encodeURIComponent(document.getElementById("name").value)+
                    '&link='+encodeURIComponent(document.getElementById("neulink").value);
                //alert(re);
                document.location.href=re;
        }
    }
//-->
</script>

<META HTTP-EQUIV="Content-Type" CONTENT="text/html;  ">
<title>OpenCms</title>
<link rel=stylesheet type="text/css" href="]]><method name="resourcesUri">format.css</method><![CDATA[">
<SCRIPT LANGUAGE="JavaScript" TYPE="text/javascript" SRC="]]><method name="scriptsUri">opencms.js</method><![CDATA["></SCRIPT>
</HEAD>

<body bgcolor="#ffffff" background="]]><METHOD name="resourcesUri">bg_weiss.gif</METHOD><![CDATA["  bgproperties=fixed marginwidth=0 marginheight=0 leftmargin=0 topmargin=0 onload="javascript:setValues();">

<!--begin new external link-->
<table width="100%" height="100%" border=0 cellspacing=0 cellpadding=0>
<tr><td align=center valign=middle>

<form name="NEU">
<table border=2 cellspacing=0 cellpadding=0 width=500px height=180px>
<tr><td>
    <table cellspacing=0 cellpadding=5 border=0 width=100% height=100%>
    <!--begin head-->
    <tr><td colspan=2 class=head height=20px>]]><LABEL value="title.newlink" /><![CDATA[</td></tr>
    <tr><td colspan=2 class=leerzeile>&nbsp;</td></tr>

    <!--begin content-->
    <tr>
        <td class=formular>]]><LABEL value="input.name" /><![CDATA[:</td>
        <td class=dialogtxt>
            <input type="text" name="name" class="textfeld3" size="31" onfocus="javascript:NEU.WEITER.disabled=false;"/>
        </td>
    </tr>
    <tr>
            <td class=formular>]]><LABEL value="input.linkto" /><![CDATA[:</td>

            <td class=dialogtxt>
                <input type="text" name="neulink" class="textfeld3" size="31"/>
            </td>
    </tr>
    <tr>
        <td colspan=2 class=leerzeile>&nbsp;</td>
    </tr>
    <!--begin buttons-->
    <tr>
        <td colspan=2 class=formular>
            <table cellspacing=0 cellpadding=5 width=100%>
            <tr>
                <td class=formular align=right width=60%><INPUT disabled class=button width = 100 type ="button" value="]]><LABEL value="button.previousscreen" /><![CDATA[" id=ZURUECK name=ZURUECK onClick=""></td>
                <td class=formular align=middle width=20%><INPUT disabled class=button width=100 type="button" value="]]><LABEL value="button.endwizard" /><![CDATA[" id=WEITER name=WEITER onClick="checkForm();"></td>
                <td class=formular align=middle width=20%><INPUT class=button width=100 type="button" value="]]><LABEL value="button.cancel" /><![CDATA[" id=CANCEL_FOLDER name=CANCEL_FOLDER onClick="location=lasturl;"></td>
            </tr>
            </table>
        </td>
    </tr>
    </table>
</td>
</tr>
</table>
</form>
</td></tr>
</table>
<!--end new external link-->
</body>
</HTML>
]]>
</TEMPLATE>

<TEMPLATE name="errorcheckurl">
<![CDATA[
<HTML>

<script language=JavaScript>
<!--
top.help_url='Administration/linkgallerien/neuerlink.html';
var lasturl=']]><PROCESS>lasturl</PROCESS><![CDATA[';
//-->
</script>

<head>

<META HTTP-EQUIV="Content-Type" CONTENT="text/html;  ">
<title>OpenCms</title>

<link rel=stylesheet type="text/css" href="]]><method name="resourcesUri">format.css</method><![CDATA[">
<SCRIPT LANGUAGE="JavaScript" TYPE="text/javascript" SRC="]]><method name="scriptsUri">opencms.js</method><![CDATA["></SCRIPT>

</HEAD>

<body  bgcolor="#ffffff" background="]]><METHOD name="resourcesUri">bg_weiss.gif</METHOD><![CDATA["  bgproperties=fixed marginwidth = 0 marginheight = 0 leftmargin=0 topmargin=0>

<!-- begin show link check error -->
<table width="100%" height="100%" border=0 cellspacing=0 cellpadding=0>
<tr><td align=middle valign=center>

<form id="NEWLINKERR" name="NEWLINKERR">
<input type=hidden name="action" value="newlink">
<input type=hidden name="folder" value="]]><PROCESS>FOLDER</PROCESS><![CDATA[">
<input type=hidden name="name" value="]]><PROCESS>LINKNAME</PROCESS><![CDATA[">
<input type=hidden name="neulink" value="]]><PROCESS>LINKVALUE</PROCESS><![CDATA[">
<table border=2 cellspacing=0 cellpadding=0 width=500px height=180px>

<tr><td><table cellspacing=0 cellpadding=5 border=0 width=100% height=100%>
    <!--begin head-->
    <tr><td class=head height=20px>]]><LABEL value="title.newlink" /><![CDATA[</td></tr>
    <tr><td class=leerzeile>&nbsp;</td></tr>

    <!--begin content-->
    <tr>
        <td class=formular>]]><process>LINKVALUE</process><![CDATA[</td>
    </tr>
    <tr>
        <td class=dialogtxt>]]><LABEL value="error.message.linkcheckerror" /><![CDATA[</td>
    </tr>

    <!--begin buttons-->
    <tr><td class=formular>
            <table cellspacing=0 cellpadding=5 width=100%>
            <tr>
                <INPUT type="hidden" name="step" ID="step" value="2">
                <td class=formular align=right width=60%><INPUT class=button width = 100 type ="button" value="]]><LABEL value="button.previousscreen" /><![CDATA[" id=ZURUECK name=ZURUECK onClick="location='administration_content_link_new.html?action=newlink&folder=]]><PROCESS>FOLDER</PROCESS><![CDATA[';"></td>
                <td class=formular align=middle width=20%><INPUT class=button width = 100 type ="submit" value="]]><LABEL value="button.endwizard" /><![CDATA[" id =FERTIG name=FERTIG onClick="location='administration_content_link_new.html';"></td>
                <td class=formular align=middle width=20%><INPUT class=button width = 100 type="button" value="]]><LABEL value="button.cancel" /><![CDATA[" id=CANCEL_FOLDER name=CANCEL_FOLDER onClick="location=lasturl"></td>
            </tr>
            </table>
        </td>
    </tr>
    </table>
</TD></TR>
</TABLE>
</FORM>
</TD></TR>
</TABLE>
<!-- end show link check error -->

</body>
</HTML>
    ]]>
</TEMPLATE>

<TEMPLATE name="error">
<ERRORPAGE title="error.title.newlink" message="error.message.newlink" reason="error.reason.newlink" suggestion="error.suggestion.newlink" ref="administration_content_link_new.html?action=newlink" ><process>errordetails</process></ERRORPAGE>
</TEMPLATE>

</WORKPLACE>