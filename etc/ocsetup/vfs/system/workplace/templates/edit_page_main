<?xml version="1.0"?>
<workplace>
<template>
<![CDATA[
<html>
<head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<title>]]><LABEL value="label.wptitle" /><![CDATA[ ]]><METHOD name="userName" /><![CDATA[</title>
<link rel=stylesheet type="text/css" href="../css/format.css">
<SCRIPT LANGUAGE="JavaScript" TYPE="text/javascript">	
	// which button is clicked
	function doTemplSubmit(para)
	{
		document.EDITOR.action.value = "";
		switch (para)
		{
		case 1:
			doSubmit();
			document.EDITOR.submit();
			break;
		case 2:
			alert("NYI!");
			break;
		case 3:
			doSubmit();
			document.EDITOR.submit();
			break;
		case 4:
			// new template selected
			doSubmit();
			document.EDITOR.submit();
			break;
		case 5:
			// preview selected
			doSubmit();
			document.PREVIEW.bodyclass.value = document.EDITOR.bodyclass.value;
			document.PREVIEW.bodyfile.value = document.EDITOR.bodyfile.value;
			document.PREVIEW.title.value = document.EDITOR.title.value;
			document.PREVIEW.body.value = document.EDITOR.body.value;
			document.PREVIEW.bodytitle.value = document.EDITOR.bodytitle.value;
			document.PREVIEW.template.value = document.EDITOR.template.value;
			document.PREVIEW.editor.value = document.EDITOR.editor.value;
			document.PREVIEW.content.value = document.EDITOR.content.value;
			document.PREVIEW.file.value = document.EDITOR.file.value;
			document.PREVIEW.action.value = "preview";
			document.PREVIEW.submit();
			break;
		case 6:
			// New Body;
			doSubmit();
			document.EDITOR.action.value = "newbody";
			document.EDITOR.submit();
			break;
		}
	}
	
	<!-- Sets the Document Source-Code for later including into the editor -->
	var text="]]><METHOD name="setText"/><![CDATA[";

	<!-- URL for pictures -->
	var pfad="]]><METHOD name="picsUrl"/><![CDATA[";
	
	<!-- URL for help file -->
	var help="]]><METHOD name="helpUrl"/><![CDATA[";

	<!-- Filename -->
	var filename="]]><PROCESS>file</PROCESS><![CDATA[";
	
	<!-- Needed space for additional toolbar -->
	var space=55;

	var NS = null;
	var IE = null;
	
	NS = (document.layers)? true:false;
	IE = (document.all)? true:false;
	
	var LANG_CUT = "]]><LABEL value="editor.context.cut"/><![CDATA[";
	var LANG_COPY = "]]><LABEL value="editor.context.copy"/><![CDATA[";
	var LANG_PASTE = "]]><LABEL value="editor.context.paste"/><![CDATA[";
	var LANG_INSERTROW = "]]><LABEL value="editor.context.insertrow"/><![CDATA[";
	var LANG_DELETEROW = "]]><LABEL value="editor.context.deleterow"/><![CDATA[";
	var LANG_INSERTCOL = "]]><LABEL value="editor.context.insertcol"/><![CDATA[";
	var LANG_DELETECOL = "]]><LABEL value="editor.context.deletecol"/><![CDATA[";
	var LANG_INSERTCELL = "]]><LABEL value="editor.context.insertcell"/><![CDATA[";
	var LANG_DELETECELL = "]]><LABEL value="editor.context.deletecell"/><![CDATA[";
	var LANG_MERGECELL = "]]><LABEL value="editor.context.mergecell"/><![CDATA[";
	var LANG_SPLITCELL = "]]><LABEL value="editor.context.splitcell"/><![CDATA[";

</SCRIPT>

<SCRIPT LANGUAGE="JavaScript" TYPE="text/javascript" SRC="../templates/js/opencms.js"></SCRIPT>
<SCRIPT LANGUAGE="JavaScript" TYPE="text/javascript" SRC="../templates/js/opencms_]]><PROCESS>editor</PROCESS><![CDATA[.js"></SCRIPT>

<!-- Update the Font display on change -->
<SCRIPT LANGUAGE="javascript" FOR="EDIT_HTML" EVENT="DisplayChanged">
<!--
	function displayChangedHandle()
	{
	if (IE==true) return DisplayChanged();
	}
	displayChangedHandle();
	//-->
</script>

<!-- Show a context menu if the right mousebutton is clicked -->
<script LANGUAGE="javascript" FOR="EDIT_HTML" EVENT="ShowContextMenu">
<!--
	function showContextMenuHandle()
	{
	if (IE==true) return ShowContextMenu();
	}
	showContextMenuHandle();
//-->
</script>

<!-- Invoke a context menu action -->
<script LANGUAGE="javascript" FOR="EDIT_HTML" EVENT="ContextMenuAction(itemIndex)">
<!--
	function contextMenuActionHandle()
	{
	if (IE==true) return ContextMenuAction(itemIndex);
	}
	contextMenuActionHandle();
//-->
</script>


</head>

<body background="]]><METHOD name="picsUrl">bg_grau.gif</METHOD><![CDATA[" bgproperties=fixed scroll=no onLoad="setText();" marginwidth=5 marginheight=5 leftmargin=5 topmargin=5>

<table cellspacing=0 cellpadding=0 border=0 width="100%" height="100%"> <tr> <td valign="top">
<form 
	name=EDITOR 
	id=EDITOR
	METHOD=POST>
	<INPUT TYPE=HIDDEN name="bodyclass" value="]]><PROCESS>bodyclass</PROCESS><![CDATA[">
	<INPUT TYPE=HIDDEN name="bodyfile" value="]]><PROCESS>bodyfile</PROCESS><![CDATA[">
		<table>
			<tr>
				<td class=menubold><p class=einzug>]]><LABEL value="input.title"/>:<![CDATA[&nbsp;&nbsp;&nbsp;</td>
				<td class=dialogtxt>]]><INPUTFIELD name="title" class="textfeld" size="10" length="255" method="setTitle"/><![CDATA[</td>
				<td class=menubold><p class=tab>]]><LABEL value="input.editor"/>:<![CDATA[&nbsp;&nbsp;&nbsp;</td>
				<td class=dialogtxt>]]><SELECT class="textfeld" name="editor" width="100" method="getEditorViews" onchange="doTemplSubmit(3);"/><![CDATA[</td>
				<td class=menu width="100%" align=right>]]><BUTTON href="#" name="bt_docpreview" action="javascript:doTemplSubmit(5);" alt="preview"/><![CDATA[</td>
			</tr>
		</table>
		<hr>
		<table>
			<tr>
				<td class=menubold>]]><LABEL value="input.body"/>:<![CDATA[&nbsp;&nbsp;&nbsp;</td>
				<td class=dialogtxt>]]><SELECT class="textfeld" name="body" width="80" method="getBodys" onchange="doTemplSubmit(1);"/><![CDATA[</td>
				<td class=dialogtxt>]]><INPUTFIELD name="bodytitle" class="textfeld" size="10" length="255" method="setBodyTitle"/><![CDATA[</td>

				<td class=menu><p class=tab>]]><BUTTON href="javascript:doTemplSubmit(6);" name="bt_newdoc" action="" alt="newbody"/><![CDATA[</td>
				<td class=menubold><p class=tab>]]><LABEL value="input.template"/>:<![CDATA[&nbsp;&nbsp;&nbsp;</td>
				<td class=dialogtxt>]]><SELECT class="textfeld" name="template" width="150" method="getAvailableTemplates" onchange="doTemplSubmit(4);"/><![CDATA[</td>
				<td class=menu width="100%" align=right>&nbsp;</td>
			</tr>
		</table>
</td></tr>
<tr><td><hr></td></tr>
<tr><td>

  ]]><ELEMENT name="editor"/><![CDATA[
  	<INPUT TYPE=HIDDEN NAME="content">
  	<INPUT TYPE=HIDDEN NAME="action">	
  	<INPUT TYPE=HIDDEN NAME="file" value="]]><PROCESS>file</PROCESS><![CDATA[">				
</form>
<form 
	name=PREVIEW 
	id=PREVIEW
	TARGET="PREVIEW"
	METHOD=POST>
	<INPUT TYPE=HIDDEN name="bodyclass">
	<INPUT TYPE=HIDDEN name="bodyfile">
	<INPUT TYPE=HIDDEN name="title">
	<INPUT TYPE=HIDDEN name="action">
	<INPUT TYPE=HIDDEN name="body">
	<INPUT TYPE=HIDDEN name="bodytitle">
	<INPUT TYPE=HIDDEN name="template">
	<INPUT TYPE=HIDDEN name="editor">
	<INPUT TYPE=HIDDEN NAME="content">
	<INPUT TYPE=HIDDEN NAME="file">		
</form>
</td></tr>
</table>
</body>
</html>
]]>
</template>

<TEMPLATE name="parseerror">
<![CDATA[
]]><ERRORPAGE title="error.title.login" message="error.message.login" reason="error.reason.login" suggestion="error.suggestion.login" ref="templateeditor.html"  ><process>details</process></ERRORPAGE><![CDATA[
]]>
</TEMPLATE>
</workplace>
